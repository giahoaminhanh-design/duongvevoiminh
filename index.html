<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Đường về với mình</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{--green:#2f5833}
    *{box-sizing:border-box}
    body{margin:0;background:#f4f9f4;color:#183528;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto}
    header{padding:18px 10px 6px;text-align:center;font-weight:800;color:#2f5833;font-size:clamp(24px,4vw,44px)}
    .wrap{max-width:1280px;margin:0 auto;padding:8px 16px 24px}
    .mapbox{position:relative;aspect-ratio:16/9;border-radius:20px;overflow:hidden;box-shadow:0 18px 60px rgba(0,0,0,.18)}
    .mapbox>img{width:100%;height:100%;object-fit:cover;display:block}
    footer{margin-top:10px;text-align:center;color:#3e613e;padding:8px 0 16px;font-size:14px}
    .hotspot{position:absolute;width:48px;height:48px;border-radius:50%;border:2px solid #fff;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 4px rgba(255,255,255,.35),0 10px 20px rgba(0,0,0,.25);animation:pulse 2.1s infinite}
    .hotspot .label{position:absolute;top:58px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,.95);padding:6px 10px;border-radius:10px;font-weight:700;white-space:nowrap;color:#234d35;box-shadow:0 6px 18px rgba(0,0,0,.15)}
    .red{background:radial-gradient(120% 120% at 30% 30%, #ffd1d1,#ff4d4d)}
    .blue{background:radial-gradient(120% 120% at 30% 30%, #d2f1ff,#4aa3ff)}
    .teal{background:radial-gradient(120% 120% at 30% 30%, #d4fff2,#2fd6a8)}
    .yellow{background:radial-gradient(120% 120% at 30% 30%, #fff6b5,#ffb515)}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.14)}100%{transform:scale(1)}}
    .sound-tip{position:fixed;left:50%;bottom:20px;transform:translateX(-50%);background:rgba(255,255,255,.9);color:#2f5833;border:1px solid #cde3cf;padding:8px 12px;border-radius:999px;box-shadow:0 8px 18px rgba(0,0,0,.1);font-weight:700;display:none}
    .audio-toggle{position:fixed;right:16px;bottom:16px;background:#2f5833;color:#fff;border:0;border-radius:999px;padding:10px 14px;font-weight:800;cursor:pointer;box-shadow:0 10px 22px rgba(0,0,0,.2)}
  </style>
</head>
<body>
  <header>Đường về với mình</header>
  <div class="wrap">
    <div class="mapbox">
      <img src="./assets/map_16x9.png" alt="Bản đồ hành trình - Đường về với mình" />
      <div class="hotspot red" style="left:23%; top:70%" onclick="openLink('house')"><span class="label">FOMO Guard</span></div>
      <div class="hotspot blue" style="left:46%; top:33%" onclick="openLink('lake')"><span class="label">Hồ Ký Ức</span></div>
      <div class="hotspot teal" style="left:73%; top:22%" onclick="openLink('bubbles')"><span class="label">Bể Bong Bóng</span></div>
      <div class="hotspot yellow" style="left:58%; top:63%" onclick="openLink('music')"><span class="label">Vùng đất âm thanh</span></div>
    </div>
    <footer>© 2025 · Nguyễn Mai Gia Hòa &amp; Phạm Minh Anh</footer>
  </div>

  <audio id="bgAudio" loop><source src="./assets/bg.mp3" type="audio/mpeg"></audio>
  <audio id="voiceAudio"><source src="./assets/voice.mp3" type="audio/mpeg"></audio>
  <div class="sound-tip" id="soundTip">Nhấn bất kỳ đâu để bật âm thanh</div>
  <button class="audio-toggle" id="toggleBtn">Tắt âm</button>

  <script>
    const LINKS={
      bubbles:"http://bebongbong.duongvevoiminhgiahoaminhanh.site/",
      lake:"http://hokyuc.duongvevoiminhgiahoaminhanh.site/",
      house:"http://fomoguardgiahoaminhanh.site/",
      music:"http://vungdatamthanh.duongvevoiminhgiahoaminhanh.site/"
    };
    function openLink(k){window.open(LINKS[k]||"#","_blank");}

    const bg=document.getElementById('bgAudio');
    const voice=document.getElementById('voiceAudio');
    const tip=document.getElementById('soundTip');
    const toggleBtn=document.getElementById('toggleBtn');
    bg.volume=0.35; voice.volume=0.9;

    function tryPlayAll(){
      const p1=bg.play().catch(()=>{});
      const p2=voice.play().catch(()=>{});
      Promise.allSettled([p1,p2]).then(()=>{
        if(bg.paused||voice.paused){
          tip.style.display='block';
          const unlock=()=>{bg.play().catch(()=>{});voice.play().catch(()=>{});tip.style.display='none';window.removeEventListener('pointerdown',unlock)};
          window.addEventListener('pointerdown',unlock,{once:true});
        }
      });
    }
    let muted=false;
    function updateToggle(){toggleBtn.textContent=muted?'Bật âm':'Tắt âm';}
    toggleBtn.addEventListener('click',()=>{muted=!muted; bg.muted=muted; voice.muted=muted; updateToggle();});
    updateToggle();
    window.addEventListener('load',tryPlayAll);
  </script>
</body>
</html>
